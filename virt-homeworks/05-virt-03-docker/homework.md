# 3. Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера

## 1. Ссылка на image в docker hub:
https://hub.docker.com/repository/docker/nardah/netology_nginx/tags?page=1&ordering=last_updated
## 2. Посмотрите на сценарий ниже и ответьте на вопрос: "Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"
### 1. Высоконагруженное монолитное java веб-приложение;
- физический сервер, т.к. монолитное, селдовательно в микросерверах не реализуемо без изменения кода, и так как высоконагруженное -  то необходим физический доступ к ресурсами, без использования гипервизора виртуалки. 
### 2. Nodejs веб-приложение;
- это веб приложение, для таких приложений достаточно докера, противопоказаний для контейнерной реализации не вижу. и в рамках микропроцессрной архитектуры может быть хорошим решением. 
### 3. Мобильное приложение c версиями для Android и iOS;
- Виртаулка -  приложение в докере не имеет GUI, а это по описанию не вариант.
### 4. Шина данных на базе Apache Kafka;
- зависит от передаваемых данных или контура (тест/прод), для прода и критичности данных лучше Вируалка, для теста достаточно Контейнерной реализации, если потеря данных при потере контенйера не является критичной то можно и в контейнере.
### 5. Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
- сам Elasticsearvh лучше на виртуалку, отказоустойчивость решается на уровне кластера, кибану и логсташ можно вынести в докер контейнер, или так же на виртуалках.
### 6. Мониторинг-стек на базе Prometheus и Grafana;
- сами системы не хранят как таковых данны, можно развернуть на Докере, минусов не вижу, в + скорость развертывания, возможность масштабирования для различных задач: например у графаны есть ограничение на число обрабатываемых метрик и может понадобиться разделения под разные задачи (контуры).
### 7. MongoDB, как основное хранилище данных для java-приложения;
- можно использовать Виртуальную машину, т.к. хранилище и  не сказано, что высоконагруженное, в Контейнере хранить БД с данными не подходит, для физического сервера может быть через чур расточительно.
### 8. Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.
- Gitlab сервер на отдельной виртуальной машине, Docker Registry в контейнере. Основываюсь на личном опыте.
## 3. 
```
root@netology:~/data# docker ps
CONTAINER ID   IMAGE                         COMMAND                  CREATED          STATUS          PORTS                               NAMES
cfd99a5e8db6   centos:centos7                "/bin/bash"              26 seconds ago   Up 24 seconds                                       centos1
005994c5e310   debian:stable                 "bash"                   3 minutes ago    Up 3 minutes                                        debian1
```
Контейнер Centos:
```
root@netology:~/data# docker exec -it cfd99a5e8db6 /bin/bash
[root@cfd99a5e8db6 /]# cd data/
[root@cfd99a5e8db6 data]# touch 123.txt
[root@cfd99a5e8db6 data]# ls
123.txt
[root@cfd99a5e8db6 data]# 
```
Хост машина:
```
root@netology:~/data# touch 1234.txt
root@netology:~/data# ll
total 40
drwxr-xr-x 2 root root  4096 Dec  1 15:08 ./
drwx------ 6 root root 36864 Dec  1 14:56 ../
-rw-r--r-- 1 root root     0 Dec  1 15:08 1234.txt
-rw-r--r-- 1 root root     0 Dec  1 15:07 123.txt
root@netology:~/data# 
```
Контейнер Debian:
```
root@netology:~/data# docker exec -it 005994c5e310 /bin/bash
root@005994c5e310:/# cd data/
root@005994c5e310:/data# ls
123.txt  1234.txt
root@005994c5e310:/data# 
```
